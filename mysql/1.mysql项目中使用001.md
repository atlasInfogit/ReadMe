#### 1.mysql设置索引

```mysql
ALTER TABLE tablename ADD INDEX (a);
```

#### 2.关联查询

```mysql
select concat(a,b) a , c b, concat(a1,c1) c from
(SELECT A.A,A.B,A.C,b.a a1,b.b c1 FROM tablename a inner join tablename b on a.a= b.a and a.c=b.c group by a.a, a.b, a.c , b.a,b.b) aa 
```

表关联查询

#### 3.去重数据

* 只保存一条航线


```mysql
SELECT*FROMydyl_planlines_copy aWHEREEXISTS (SELECT1FROMydyl_planlines_copy bWHEREb.start_code = a.end_codeAND b.end_code = a.start_codeAND a.ID > b.id)ORNOT EXISTS (SELECT1FROMydyl_planlines_copy bWHEREb.start_code = a.end_codeAND b.end_code = a.start_code)GROUP BY id,start_code,end_codeORDER BY id
```

* 根据最小id去重


```mysql
DELETE from PersonWhere Id not in (Select IdFrom(Select MIN(Id) as idFrom PersonGroup by Email) t)
```

